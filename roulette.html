<!doctype html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>StarLoot ‚Ä¢ –†—É–ª–µ—Ç–∫–∞</title>
  <style>
    :root{
      --bg1:#6a5cff; --bg2:#1bb6ff; --bg3:#ff4fd8;
      --glass: rgba(18, 30, 60, .45);
      --stroke: rgba(255,255,255,.16);
      --txt: rgba(255,255,255,.92);
      --muted: rgba(255,255,255,.68);
      --shadow: 0 18px 60px rgba(0,0,0,.25);
    }
    *{box-sizing:border-box}
    body{
      margin:0; font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial;
      color:var(--txt);
      min-height:100vh;
      background:
        radial-gradient(900px 700px at 70% 15%, rgba(255,255,255,.18), transparent 55%),
        radial-gradient(900px 700px at 20% 80%, rgba(255,255,255,.14), transparent 60%),
        linear-gradient(135deg, var(--bg1), var(--bg2) 55%, var(--bg3));
      display:flex; justify-content:center; padding:18px 14px 92px;
    }
    .wrap{width:min(440px, 100%);}
    .top{
      display:flex; gap:10px; align-items:center; justify-content:space-between;
      flex-wrap: wrap;
      padding:10px 12px; border-radius:18px;
      background: linear-gradient(180deg, rgba(255,255,255,.12), rgba(255,255,255,.06));
      border:1px solid var(--stroke);
      box-shadow: var(--shadow);
      backdrop-filter: blur(16px);
    }
    .brand{display:flex; align-items:center; gap:10px;}
    .icon{
      width:42px;height:42px;border-radius:14px;
      background: rgba(255,255,255,.10);
      display:grid; place-items:center; font-size:20px;
      border:1px solid var(--stroke);
    }
    .brand b{display:block; font-size:16px}
    .brand small{display:block; font-size:12px; color:var(--muted)}
    .pill{
      display:flex; gap:8px; align-items:center;
      padding:10px 12px; border-radius:14px;
      background: rgba(0,0,0,.18);
      border:1px solid var(--stroke);
      font-weight:700;
      white-space:nowrap;
    }

    .card{
      margin-top:14px;
      background: var(--glass);
      border:1px solid var(--stroke);
      border-radius:26px;
      padding:16px;
      box-shadow: var(--shadow);
      backdrop-filter: blur(18px);
      position:relative;
      overflow:hidden;
    }
    .card:before{
      content:"";
      position:absolute; inset:-80px;
      background: radial-gradient(circle at 30% 30%, rgba(255,255,255,.18), transparent 55%),
                  radial-gradient(circle at 80% 75%, rgba(255,255,255,.12), transparent 55%);
      transform: rotate(12deg);
      pointer-events:none;
    }
    .card > *{position:relative}
    h1{margin:6px 0 2px; font-size:26px; letter-spacing:.2px}
    p{margin:0 0 12px; color:var(--muted)}

    .wheel{
      margin:14px auto 10px;
      width:260px; height:260px;
      border-radius:50%;
      background:
        conic-gradient(
          #00e5ff 0 45deg,
          #7c4dff 45deg 90deg,
          #ff4fd8 90deg 135deg,
          #ffd54f 135deg 180deg,
          #00e5ff 180deg 225deg,
          #7c4dff 225deg 270deg,
          #ff4fd8 270deg 315deg,
          #ffd54f 315deg 360deg
        );
      border: 10px solid rgba(255,255,255,.10);
      box-shadow: 0 18px 60px rgba(0,0,0,.35);
      position:relative;
      display:grid; place-items:center;
    }
    .wheel .center{
      width:140px;height:140px;border-radius:34px;
      background: rgba(0,0,0,.22);
      border:1px solid var(--stroke);
      display:grid; place-items:center;
      text-align:center;
      padding:10px;
    }
    .center b{font-size:18px}
    .center small{color:var(--muted); font-weight:600}
    .pointer{
      width:0;height:0;
      border-left:12px solid transparent;
      border-right:12px solid transparent;
      border-bottom:18px solid rgba(255,255,255,.9);
      position:absolute;
      top:-6px; left:50%;
      transform:translateX(-50%);
      filter: drop-shadow(0 6px 8px rgba(0,0,0,.35));
    }

    .grid{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:10px;
      margin-top:10px;
    }
    .tile{
      background: rgba(0,0,0,.18);
      border:1px solid var(--stroke);
      border-radius:18px;
      padding:12px;
    }
    .tile small{color:var(--muted); display:block}
    .tile b{font-size:18px}

    .btn{
      width:100%;
      margin-top:12px;
      border:none;
      border-radius:18px;
      padding:14px 16px;
      font-size:18px;
      font-weight:900;
      color:rgba(0,0,0,.75);
      background: linear-gradient(90deg, #00e5ff, #7c4dff, #ff4fd8);
      box-shadow: 0 14px 40px rgba(0,0,0,.25);
      cursor:pointer;
    }
    .btn:disabled{opacity:.55; cursor:not-allowed}

    .btn2{
      width:100%;
      margin-top:10px;
      border:1px solid rgba(255,255,255,.20);
      border-radius:18px;
      padding:12px 14px;
      font-size:15px;
      font-weight:800;
      color:var(--txt);
      background: rgba(0,0,0,.18);
      cursor:pointer;
    }

    .toast{
      position:fixed;
      left:50%;
      bottom:84px;
      transform:translateX(-50%);
      background: rgba(0,0,0,.55);
      border:1px solid rgba(255,255,255,.18);
      padding:10px 14px;
      border-radius:14px;
      color:#fff;
      display:none;
      z-index:99;
      backdrop-filter: blur(10px);
    }

    /* –Ω–∏–∂–Ω–µ–µ –º–µ–Ω—é */
    .nav{
      position:fixed; left:50%; bottom:16px; transform:translateX(-50%);
      width:min(520px, calc(100% - 24px));
      background: rgba(12, 18, 36, .55);
      border:1px solid rgba(255,255,255,.16);
      border-radius:22px;
      padding:10px 8px;
      display:flex; justify-content:space-around; gap:6px;
      backdrop-filter: blur(18px);
      box-shadow: var(--shadow);
    }
    .nav a{
      flex:1;
      text-decoration:none;
      color: rgba(255,255,255,.70);
      text-align:center;
      font-weight:800;
      font-size:12px;
      padding:8px 6px;
      border-radius:16px;
      display:flex; flex-direction:column; gap:4px; align-items:center;
    }
    .nav a.active{color:#fff; background: rgba(255,255,255,.10)}
    .nav span{font-size:18px; line-height:1}
    /* ===== MOBILE SAFE + FIXED BOTTOM NAV ===== */
html, body { width: 100%; overflow-x: hidden; }
* { box-sizing: border-box; }
a { color: inherit; text-decoration: none; }

body{
  margin:0;
  min-height:100vh;
  display:flex;
  justify-content:center;
  padding:18px 14px 92px; /* –º–µ—Å—Ç–æ –ø–æ–¥ –º–µ–Ω—é */
}

/* –≥–ª–∞–≤–Ω—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã */
.app, .wrap, .card{
  width: min(430px, 100%);
}

/* –µ—Å–ª–∏ —É —Ç–µ–±—è –æ—Å–Ω–æ–≤–Ω–æ–π –±–ª–æ–∫ = .card –∏ –æ–Ω –≤–Ω—É—Ç—Ä–∏, –æ—Å—Ç–∞–≤—å –∫–∞–∫ –µ—Å—Ç—å */

/* –Ω–∏–∂–Ω–µ–µ –º–µ–Ω—é */
.nav{
  position: fixed;
  left: 50%;
  transform: translateX(-50%);
  bottom: 14px;
  width: min(430px, calc(100% - 28px));
  display: flex;
  gap: 8px;
  padding: 10px;
  border-radius: 22px;
  background: rgba(255,255,255,.12);
  border: 1px solid rgba(255,255,255,.16);
  backdrop-filter: blur(16px);
  -webkit-backdrop-filter: blur(16px);
  z-index: 9999;
}

/* –∫–Ω–æ–ø–∫–∏ –º–µ–Ω—é */
.nav a{
  flex: 1;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  gap: 4px;
  padding: 10px 6px;
  border-radius: 16px;
  font-weight: 800;
  font-size: 12px;
  color: rgba(255,255,255,.75);
  text-decoration: none !important;
}

.nav a span{
  font-size: 18px;
  line-height: 1;
}

.nav a.active{
  color: #fff;
  background: rgba(255,255,255,.14);
}
  </style>
</head>
<body>
  <div class="wrap">
    <div class="top">
      <div class="brand">
        <div class="icon">üéÅ</div>
        <div>
          <b>StarLoot</b>
          <small>–†—É–ª–µ—Ç–∫–∞ ‚Ä¢ –ø–æ–¥–∞—Ä–∫–∏ ‚Ä¢ Stars ‚Ä¢ TON</small>
        </div>
      </div>
      <div class="pill">üíé SP: <span id="spTop">0</span></div>
    </div>

    <div class="card">
      <h1>üé∞ –†—É–ª–µ—Ç–∫–∞ StarLoot</h1>
      <p>–ö—Ä—É—Ç–∏ ‚Äî —Ç—Ä–∞—Ç—å SP ‚Äî –ª–æ–≤–∏ –ø—Ä–∏–∑—ã üéÅ</p>

      <div class="wheel" id="wheel">
        <div class="pointer"></div>
        <div class="center">
          <b id="centerText">–ì–æ—Ç–æ–≤–æ</b>
          <small>–ù–∞–∂–º–∏ ¬´–ö—Ä—É—Ç–∏—Ç—å¬ª</small>
        </div>
      </div>

      <div class="grid">
        <div class="tile">
          <small>üéü –°—Ç–æ–∏–º–æ—Å—Ç—å –ø—Ä–æ–∫—Ä—É—Ç–∞</small>
          <b><span id="cost">10</span> SP</b>
        </div>
        <div class="tile">
          <small>üéÅ –ì–ª–∞–≤–Ω—ã–π –ø—Ä–∏–∑</small>
          <b>TG-Gift</b>
        </div>
      </div>

      <button class="btn" id="spinBtn" onclick="spin()">üé∞ –ö—Ä—É—Ç–∏—Ç—å —Ä—É–ª–µ—Ç–∫—É</button>
      <button class="btn2" onclick="location.href='index.html'">‚¨Ö –ù–∞–∑–∞–¥ –≤ StarLoot</button>
    </div>
  </div>

  <div class="nav">
    <a href="clicker.html"><span>üê∏</span>–ö–ª–∏–∫–µ—Ä</a>
    <a class="active" href="roulette.html"><span>üé∞</span>–†—É–ª–µ—Ç–∫–∞</a>
    <a href="index.html"><span>üéÅ</span>–ì–ª–∞–≤–Ω–∞—è</a>
    <a href="index.html"><span>üõí</span>–ú–∞–≥–∞–∑–∏–Ω</a>
    <a href="index.html"><span>üë§</span>–ü—Ä–æ—Ñ–∏–ª—å</a>
  </div>

  <div class="toast" id="toast"></div>

  <script>
    const COST = 10;

// –Ñ–î–ò–ù–Ü –∫–ª—é—á—ñ –¥–ª—è –í–°–¨–û–ì–û –ø—Ä–æ—î–∫—Ç—É
const KEY_SP = "starloot_sp";

function getSP(){
  return Number(localStorage.getItem(KEY_SP) || "0");
}

function setSP(v){
  localStorage.setItem(KEY_SP, String(Math.max(0, Math.floor(v))));
  renderSP();
}
    function renderSP(){
      document.getElementById("spTop").textContent = getSP();
    }

    const toast = document.getElementById("toast");
    function showToast(text){
      toast.textContent = text;
      toast.style.display = "block";
      setTimeout(()=> toast.style.display="none", 2200);
    }

    const wheel = document.getElementById("wheel");
    const spinBtn = document.getElementById("spinBtn");
    const centerText = document.getElementById("centerText");

    const rewards = [
      {label:"+0 SP üòÖ", sp:0,  w:18},
      {label:"+5 SP",   sp:5,  w:24},
      {label:"+10 SP",  sp:10, w:20},
      {label:"+15 SP",  sp:15, w:16},
      {label:"+25 SP üî•",sp:25, w:12},
      {label:"+40 SP üí•",sp:40, w:10},
    ];

    function pickReward(){
      const total = rewards.reduce((s,r)=>s+r.w,0);
      let x = Math.random()*total;
      for(const r of rewards){
        x -= r.w;
        if(x<=0) return r;
      }
      return rewards[0];
    }

    function spin(){
      const sp = getSP();
      if(sp < COST){
        showToast("‚ùå –ù–µ —Ö–≤–∞—Ç–∞–µ—Ç SP. –ó–∞—Ä–∞–±–æ—Ç–∞–π –≤ –∫–ª–∏–∫–µ—Ä–µ üê∏");
        return;
      }

      setSP(sp - COST);
      spinBtn.disabled = true;
      centerText.textContent = "–ö—Ä—É—Ç–∏–º...";

      const reward = pickReward();

      // –∫—Ä–∞—Å–∏–≤–æ–µ –≤—Ä–∞—â–µ–Ω–∏–µ
      const extra = 360 * (5 + Math.floor(Math.random()*3));
      const angle = extra + Math.floor(Math.random()*360);
      wheel.style.transition = "transform 1.6s cubic-bezier(.2,.9,.2,1)";
      wheel.style.transform = `rotate(${angle}deg)`;

      setTimeout(()=>{
        // –≤—ã–¥–∞—ë–º –Ω–∞–≥—Ä–∞–¥—É
        const sp2 = getSP();
        setSP(sp2 + reward.sp);
        centerText.textContent = reward.label;
        showToast(`üéÅ –í—ã–ø–∞–ª–æ: ${reward.label}`);
        spinBtn.disabled = false;

        // —Å–±—Ä–æ—Å transition, —á—Ç–æ–±—ã —Å–ª–µ–¥—É—é—â–∏–π —Å–ø–∏–Ω —Å–Ω–æ–≤–∞ –∞–Ω–∏–º–∏—Ä–æ–≤–∞–ª—Å—è –Ω–æ—Ä–º–∞–ª—å–Ω–æ
        setTimeout(()=>{
          wheel.style.transition = "none";
          wheel.style.transform = "rotate(0deg)";
        }, 200);
      }, 1650);
    }

    spinBtn.addEventListener("click", spin);

    // init
    document.getElementById("cost").textContent = COST;
    renderSP();
  </script>
  <div class="nav">
  <a href="clicker.html"><span>üê∏</span>–ö–ª–∏–∫–µ—Ä</a>
  <a href="roulette.html"><span>üé∞</span>–†—É–ª–µ—Ç–∫–∞</a>
  <a href="index.html"><span>üéÅ</span>–ì–ª–∞–≤–Ω–∞—è</a>
  <a class="active" href="roulette.html"><span>üì¶</span>–ö–µ–π—Å—ã</a>
  <a href="profile.html"><span>üë§</span>–ü—Ä–æ—Ñ–∏–ª—å</a>
</div>
</body>
</html>
