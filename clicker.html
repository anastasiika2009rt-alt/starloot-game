<!doctype html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>–ö–ª–∏–∫–µ—Ä –ê–º –ù—è–º–∞ ‚Ä¢ StarLoot</title>
  <style>
    :root{
      --bg1:#6a00ff;
      --bg2:#00b3ff;
      --bg3:#ff2bd6;
      --card: rgba(0,0,0,.28);
      --card2: rgba(255,255,255,.08);
      --text: rgba(255,255,255,.92);
      --muted: rgba(255,255,255,.72);
      --stroke: rgba(255,255,255,.18);
      --glow: rgba(0, 255, 255, .35);
      --glow2: rgba(255, 0, 230, .28);
      --good:#41ffb4;
      --warn:#ffd45a;
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      color: var(--text);
      background:
        radial-gradient(900px 600px at 15% 20%, rgba(255,255,255,.10), transparent 55%),
        radial-gradient(900px 600px at 85% 70%, rgba(255,255,255,.10), transparent 55%),
        radial-gradient(1200px 900px at 50% -10%, rgba(255, 0, 230, .22), transparent 60%),
        linear-gradient(135deg, var(--bg1), var(--bg2) 55%, var(--bg3));
      overflow:hidden;
    }

    /* –Ω–µ–æ–Ω–æ–≤–∞—è ‚Äú–ø—ã–ª—å‚Äù */
    .sparkles{
      position:fixed; inset:0; pointer-events:none; opacity:.55;
      background:
        radial-gradient(circle at 12% 18%, rgba(255,255,255,.20) 0 2px, transparent 3px),
        radial-gradient(circle at 28% 62%, rgba(255,255,255,.18) 0 2px, transparent 3px),
        radial-gradient(circle at 68% 22%, rgba(255,255,255,.14) 0 2px, transparent 3px),
        radial-gradient(circle at 82% 58%, rgba(255,255,255,.16) 0 2px, transparent 3px),
        radial-gradient(circle at 42% 42%, rgba(255,255,255,.12) 0 2px, transparent 3px);
      filter: blur(.2px);
      animation: float 8s ease-in-out infinite;
    }
    @keyframes float{
      0%,100%{transform:translateY(0)}
      50%{transform:translateY(-10px)}
    }

    .wrap{
      height:100%;
      display:flex;
      align-items:center;
      justify-content:center;
      padding: 18px;
    }

    .card{
      width:min(430px, 100%);
      border: 1px solid var(--stroke);
      background: linear-gradient(180deg, rgba(0,0,0,.30), rgba(0,0,0,.18));
      box-shadow:
        0 18px 60px rgba(0,0,0,.35),
        0 0 40px var(--glow),
        0 0 40px var(--glow2);
      border-radius: 28px;
      padding: 16px;
      position:relative;
      overflow:hidden;
    }
    .card::before{
      content:"";
      position:absolute; inset:-2px;
      background: radial-gradient(400px 220px at 25% 20%, rgba(0,255,255,.18), transparent 60%),
                  radial-gradient(380px 240px at 80% 70%, rgba(255,0,230,.16), transparent 60%);
      pointer-events:none;
    }

    .topbar{
      position:relative;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      padding: 6px 6px 12px;
    }
    .brand{
      display:flex; align-items:center; gap:10px;
      font-weight:800;
      letter-spacing:.2px;
    }
    .logo{
      width:38px; height:38px;
      border-radius: 14px;
      display:grid; place-items:center;
      background: linear-gradient(135deg, rgba(0,255,255,.25), rgba(255,0,230,.18));
      border: 1px solid rgba(255,255,255,.20);
      box-shadow: 0 10px 26px rgba(0,0,0,.25);
      font-size:18px;
    }
    .pill{
      display:flex; align-items:center; gap:8px;
      padding: 10px 12px;
      border-radius: 16px;
      border: 1px solid rgba(255,255,255,.18);
      background: rgba(255,255,255,.08);
      backdrop-filter: blur(10px);
      font-weight:800;
      white-space:nowrap;
    }
    .pill small{font-weight:700; opacity:.85}
    .spnum{color: var(--good); text-shadow: 0 0 12px rgba(65,255,180,.35)}

    .hero{
      position:relative;
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.06);
      border-radius: 24px;
      padding: 16px;
      margin-top: 6px;
      backdrop-filter: blur(10px);
    }

    .title{
      margin: 10px 0 4px;
      font-size: 22px;
      font-weight: 900;
      line-height: 1.15;
      letter-spacing: .2px;
      text-align:center;
    }
    .subtitle{
      margin: 0 0 14px;
      text-align:center;
      color: var(--muted);
      font-weight: 700;
      font-size: 13.5px;
    }

    .nyam{
      width: 140px; height: 140px;
      margin: 6px auto 10px;
      border-radius: 34px;
      display:grid;
      place-items:center;
      position:relative;
      background: linear-gradient(135deg, rgba(0,255,255,.22), rgba(255,0,230,.18));
      border: 1px solid rgba(255,255,255,.18);
      box-shadow:
        0 18px 40px rgba(0,0,0,.25),
        0 0 30px rgba(0,255,255,.25);
      user-select:none;
      cursor:pointer;
      transition: transform .08s ease;
      overflow:hidden;
    }
    .nyam:active{transform: scale(.97)}
    .nyam .face{
      font-size: 64px;
      filter: drop-shadow(0 10px 12px rgba(0,0,0,.35));
    }
    .nyam .candy{
      position:absolute;
      bottom: 12px;
      right: 14px;
      font-size: 22px;
      opacity: .95;
      filter: drop-shadow(0 8px 8px rgba(0,0,0,.35));
      animation: candy 2.2s ease-in-out infinite;
    }
    @keyframes candy{
      0%,100%{transform:translateY(0)}
      50%{transform:translateY(-6px)}
    }

    .stats{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap: 10px;
      margin: 10px 0 12px;
    }
    .box{
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.06);
      border-radius: 18px;
      padding: 12px;
      backdrop-filter: blur(10px);
    }
    .k{
      color: var(--muted);
      font-weight: 800;
      font-size: 12.5px;
      display:flex; align-items:center; gap:8px;
    }
    .v{
      margin-top: 6px;
      font-weight: 900;
      font-size: 18px;
      letter-spacing:.2px;
    }
    .v .hi{color: var(--warn); text-shadow:0 0 12px rgba(255,212,90,.35)}

    .btnRow{
      display:grid;
      gap: 10px;
      margin-top: 6px;
    }
    .btn{
      width:100%;
      border: 0;
      border-radius: 18px;
      padding: 14px 14px;
      font-weight: 900;
      font-size: 16px;
      color: rgba(255,255,255,.95);
      background: linear-gradient(90deg, rgba(0,255,255,.55), rgba(255,0,230,.45));
      box-shadow: 0 14px 30px rgba(0,0,0,.25);
      cursor:pointer;
    }
    .btn2{
      width:100%;
      border-radius: 18px;
      padding: 12px 14px;
      font-weight: 850;
      font-size: 14px;
      color: rgba(255,255,255,.88);
      background: rgba(255,255,255,.06);
      border: 1px solid rgba(255,255,255,.14);
      cursor:pointer;
    }

    .hint{
      text-align:center;
      margin-top: 10px;
      color: var(--muted);
      font-weight: 700;
      font-size: 12.5px;
    }

    /* –≤—Å–ø–ª—ã–≤–∞—é—â–∏–µ +SP */
    .pop{
      position:fixed;
      font-weight: 900;
      pointer-events:none;
      animation: pop 900ms ease-out forwards;
      text-shadow: 0 0 14px rgba(65,255,180,.55);
    }
    @keyframes pop{
      0%{transform:translateY(0) scale(.95); opacity:0}
      15%{opacity:1}
      100%{transform:translateY(-70px) scale(1.08); opacity:0}
    }

    .footer{
      margin-top: 10px;
      display:flex;
      justify-content:space-between;
      gap:10px;
      color: rgba(255,255,255,.60);
      font-weight: 800;
      font-size: 12px;
      position:relative;
    }
    .tag{
      padding: 8px 10px;
      border-radius: 14px;
      background: rgba(0,0,0,.18);
      border: 1px solid rgba(255,255,255,.12);
      white-space:nowrap;
    }
   /* ===== MOBILE SAFE + FIXED BOTTOM NAV ===== */
html, body { width: 100%; overflow-x: hidden; }
* { box-sizing: border-box; }
a { color: inherit; text-decoration: none; }

body{
  margin:0;
  min-height:100vh;
  display:flex;
  justify-content:center;
  padding:18px 14px 92px; /* –º–µ—Å—Ç–æ –ø–æ–¥ –º–µ–Ω—é */
}

/* –≥–ª–∞–≤–Ω—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã */
.app, .wrap, .card{
  width: min(430px, 100%);
}

/* –µ—Å–ª–∏ —É —Ç–µ–±—è –æ—Å–Ω–æ–≤–Ω–æ–π –±–ª–æ–∫ = .card –∏ –æ–Ω –≤–Ω—É—Ç—Ä–∏, –æ—Å—Ç–∞–≤—å –∫–∞–∫ –µ—Å—Ç—å */

/* –Ω–∏–∂–Ω–µ–µ –º–µ–Ω—é */
.nav{
  position: fixed;
  left: 50%;
  transform: translateX(-50%);
  bottom: 14px;
  width: min(430px, calc(100% - 28px));
  display: flex;
  gap: 8px;
  padding: 10px;
  border-radius: 22px;
  background: rgba(255,255,255,.12);
  border: 1px solid rgba(255,255,255,.16);
  backdrop-filter: blur(16px);
  -webkit-backdrop-filter: blur(16px);
  z-index: 9999;
}

/* –∫–Ω–æ–ø–∫–∏ –º–µ–Ω—é */
.nav a{
  flex: 1;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  gap: 4px;
  padding: 10px 6px;
  border-radius: 16px;
  font-weight: 800;
  font-size: 12px;
  color: rgba(255,255,255,.75);
  text-decoration: none !important;
}

.nav a span{
  font-size: 18px;
  line-height: 1;
}

.nav a.active{
  color: #fff;
  background: rgba(255,255,255,.14);
} 
  </style>
</head>

<body>
  <div class="sparkles"></div>

  <div class="wrap">
    <div class="card">
      <div class="topbar">
        <div class="brand">
          <div class="logo">üéÅ</div>
          <div>StarLoot</div>
        </div>
        <div class="pill">
          üíé <small>SP:</small> <span id="spTop" class="spnum">0</span>
        </div>
      </div>

      <div class="hero">
        <div class="nyam" id="nyamBtn" aria-label="–ö–ª–∏–∫–µ—Ä –ê–º –ù—è–º–∞">
          <div class="face">üê∏</div>
          <div class="candy">üç¨</div>
        </div>

        <div class="title">–ö–ª–∏–∫–µ—Ä –ê–º –ù—è–º–∞</div>
        <div class="subtitle">–ö–ª–∏–∫–∞–π –ø–æ –ê–º –ù—è–º—É ‚Äî –∫–æ–ø–∏ <b>SP</b> –¥–ª—è —Ä—É–ª–µ—Ç–æ–∫, –∫–µ–π—Å–æ–≤ –∏ TG-–ø–æ–¥–∞—Ä–∫–æ–≤ üéÅ</div>

        <div class="stats">
          <div class="box">
            <div class="k">‚ö° SP –∑–∞ –∫–ª–∏–∫</div>
            <div class="v"><span class="hi" id="spPerClick">+1</span></div>
          </div>
          <div class="box">
            <div class="k">üî• –°–µ—Ä–∏—è –∫–ª–∏–∫–æ–≤</div>
            <div class="v"><span id="streak">0</span></div>
          </div>
        </div>

        <div class="btnRow">
          <button class="btn" id="bonusBtn">üéÅ –ó–∞–±—Ä–∞—Ç—å –±–æ–Ω—É—Å (+25 SP)</button>
          <button class="btn2" id="backBtn">‚¨ÖÔ∏è –ù–∞–∑–∞–¥ –≤ StarLoot</button>
        </div>

        <div class="hint" id="hint">–ü–æ–¥—Å–∫–∞–∑–∫–∞: 10 –±—ã—Å—Ç—Ä—ã—Ö –∫–ª–∏–∫–æ–≤ –ø–æ–¥—Ä—è–¥ ‚Üí +5 SP –±–æ–Ω—É—Å–æ–º üòâ</div>

        <div class="footer">
          <div class="tag">üíúüíô –ù–µ–æ–Ω-—Å—Ç–∏–ª—å</div>
          <div class="tag">‚≠ê Stars / üíé TON (—Å–∫–æ—Ä–æ)</div>
        </div>
      </div>
    </div>
  </div>

  <script>
    // ====== –ù–ê–°–¢–†–û–ô–ö–ò ======
    const STORAGE_KEY = "starloot_sp";
    const BONUS_KEY = "starloot_bonus_time";
    const BASE_PER_CLICK = 1;

    // ====== –°–û–°–¢–û–Ø–ù–ò–ï ======
    let sp = Number(localStorage.getItem(STORAGE_KEY) || "0");
    let streak = 0;
    let lastClick = 0;

    const spTop = document.getElementById("spTop");
    const streakEl = document.getElementById("streak");
    const spPerClickEl = document.getElementById("spPerClick");
    const nyamBtn = document.getElementById("nyamBtn");
    const bonusBtn = document.getElementById("bonusBtn");
    const backBtn = document.getElementById("backBtn");

    function render(){
      spTop.textContent = sp;
      streakEl.textContent = streak;
      spPerClickEl.textContent = "+" + BASE_PER_CLICK;
      localStorage.setItem(STORAGE_KEY, String(sp));
    }
    render();

    // +SP –≤—Å–ø–ª—ã–≤–∞—à–∫–∞
    function popText(text, x, y){
      const el = document.createElement("div");
      el.className = "pop";
      el.textContent = text;
      el.style.left = x + "px";
      el.style.top = y + "px";
      document.body.appendChild(el);
      setTimeout(()=>el.remove(), 900);
    }

    function addSP(amount){
      sp += amount;
      render();
    }

    nyamBtn.addEventListener("click", (e)=>{
      const now = Date.now();
      if(now - lastClick < 900){ streak++; } else { streak = 1; }
      lastClick = now;

      addSP(BASE_PER_CLICK);

      const rect = nyamBtn.getBoundingClientRect();
      const x = rect.left + rect.width/2;
      const y = rect.top + rect.height/2;
      popText("+" + BASE_PER_CLICK + " SP", x, y);

      // –ë–æ–Ω—É—Å –∑–∞ —Å–µ—Ä–∏—é
      if(streak === 10){
        addSP(5);
        popText("+5 SP (—Å–µ—Ä–∏—è!)", x, y - 10);
      }
      streakEl.textContent = streak;
    });

    // –ë–æ–Ω—É—Å —Ä–∞–∑ –≤ 6 —á–∞—Å–æ–≤
    function canTakeBonus(){
      const last = Number(localStorage.getItem(BONUS_KEY) || "0");
      return (Date.now() - last) > 6 * 60 * 60 * 1000;
    }
    function updateBonusButton(){
      if(canTakeBonus()){
        bonusBtn.textContent = "üéÅ –ó–∞–±—Ä–∞—Ç—å –±–æ–Ω—É—Å (+25 SP)";
        bonusBtn.disabled = false;
        bonusBtn.style.opacity = "1";
      } else {
        bonusBtn.textContent = "‚è≥ –ë–æ–Ω—É—Å –±—É–¥–µ—Ç –ø–æ–∑–∂–µ";
        bonusBtn.disabled = true;
        bonusBtn.style.opacity = ".65";
      }
    }
    updateBonusButton();

    bonusBtn.addEventListener("click", ()=>{
      if(!canTakeBonus()) return;
      addSP(25);
      localStorage.setItem(BONUS_KEY, String(Date.now()));
      updateBonusButton();
      popText("+25 SP", window.innerWidth/2, 140);
    });

    // –ù–∞–∑–∞–¥ –Ω–∞ –≥–ª–∞–≤–Ω—É—é (index.html)
    backBtn.addEventListener("click", ()=>{
      window.location.href = "./index.html";
    });
  </script>
</body>
</html>
